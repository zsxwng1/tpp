{"remainingRequest":"C:\\Users\\web\\Desktop\\bosideng\\bosideng_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\bosideng\\bosideng_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\bosideng\\bosideng_vue\\src\\views\\BottomOne.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\bosideng\\bosideng_vue\\src\\views\\BottomOne.vue","mtime":1564990049157},{"path":"C:\\Users\\web\\Desktop\\bosideng\\bosideng_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\web\\Desktop\\bosideng\\bosideng_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\web\\Desktop\\bosideng\\bosideng_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      spec: \"尺码\",\n      color: \"颜色\",\n      count: 1\n    };\n  },\n  props: {\n    elem: {\n      default: {}\n    }\n  },\n  watch: {\n    elem: function elem() {\n      console.log(this.elem);\n    }\n  },\n  methods: {\n    //立即购买\n    payonce: function payonce() {\n      this.$toast({\n        message: \"该功能未完成\",\n        duration: 1000\n      });\n    },\n    //加入购物车的功能\n    addCar: function addCar(e) {\n      var _this = this;\n\n      var pid = e.target.dataset.pid;\n      var family_id = e.target.dataset.familyid;\n      var lname = e.target.dataset.lname;\n      var price = e.target.dataset.price;\n      var spec = this.spec;\n      var color = this.color;\n      var count = this.count;\n\n      if (spec == \"尺码\" || color == \"颜色\") {\n        this.$toast({\n          message: \"请选择尺码或颜色\",\n          duration: 1000\n        });\n        return;\n      }\n\n      var pic_hover = e.target.dataset.pichover;\n      var url = \"cart/v1/addcart\";\n      var obj = {\n        pid: pid,\n        family_id: family_id,\n        lname: lname,\n        price: price,\n        spec: spec,\n        color: color,\n        count: count,\n        pic_hover: pic_hover // console.log(obj);\n\n      };\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        console.log(111);\n\n        if (res.data.code == -1) {\n          console.log(122);\n\n          _this.$toast(\"请先登录\");\n        } else {\n          console.log(133);\n\n          _this.$toast({\n            message: \"添加购物车成功\",\n            duration: 1000\n          });\n        }\n      });\n    },\n    // 增减函数\n    addCount: function addCount(e) {\n      this.count = this.count + e;\n\n      if (this.count == 0) {\n        this.count = 1;\n      }\n\n      ;\n    },\n    //字符串剪切函数\n    arrSplit: function arrSplit(str, str1) {\n      var arr = str.split(str1);\n      return arr;\n    }\n  }\n};",{"version":3,"sources":["BottomOne.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,YAAA,IADA;AAEA,aAAA,IAFA;AAGA,aAAA;AAHA,KAAA;AAKA,GAPA;AAQA,SAAA;AACA,UAAA;AAAA,eAAA;AAAA;AADA,GARA;AAWA,SAAA;AACA,QADA,kBACA;AACA,cAAA,GAAA,CAAA,KAAA,IAAA;AACA;AAHA,GAXA;AAgBA,WAAA;AACA;AACA,WAFA,qBAEA;AACA,WAAA,MAAA,CAAA;AACA,iBAAA,QADA;AAEA,kBAAA;AAFA,OAAA;AAIA,KAPA;AAQA;AACA,UATA,kBASA,CATA,EASA;AAAA;;AAEA,UAAA,MAAA,EAAA,MAAA,CAAA,OAAA,CAAA,GAAA;AACA,UAAA,YAAA,EAAA,MAAA,CAAA,OAAA,CAAA,QAAA;AACA,UAAA,QAAA,EAAA,MAAA,CAAA,OAAA,CAAA,KAAA;AACA,UAAA,QAAA,EAAA,MAAA,CAAA,OAAA,CAAA,KAAA;AACA,UAAA,OAAA,KAAA,IAAA;AACA,UAAA,QAAA,KAAA,KAAA;AACA,UAAA,QAAA,KAAA,KAAA;;AACA,UAAA,QAAA,IAAA,IAAA,SAAA,IAAA,EAAA;AACA,aAAA,MAAA,CAAA;AACA,mBAAA,UADA;AAEA,oBAAA;AAFA,SAAA;AAIA;AACA;;AACA,UAAA,YAAA,EAAA,MAAA,CAAA,OAAA,CAAA,QAAA;AACA,UAAA,MAAA,iBAAA;AACA,UAAA,MAAA;AAAA,aAAA,GAAA;AAAA,mBAAA,SAAA;AAAA,eAAA,KAAA;AAAA,eAAA,KAAA;AAAA,cAAA,IAAA;AAAA,eAAA,KAAA;AAAA,eAAA,KAAA;AAAA,mBAAA,SAAA,CACA;;AADA,OAAA;AAEA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,gBAAA;AAAA,OAAA,EAAA,IAAA,CACA,eAAA;AACA,gBAAA,GAAA,CAAA,GAAA;;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,CAAA,EAAA;AACA,kBAAA,GAAA,CAAA,GAAA;;AACA,gBAAA,MAAA,CAAA,MAAA;AAEA,SAJA,MAIA;AACA,kBAAA,GAAA,CAAA,GAAA;;AACA,gBAAA,MAAA,CAAA;AAEA,qBAAA,SAFA;AAGA,sBAAA;AAHA,WAAA;AAKA;AACA,OAfA;AAiBA,KA9CA;AA+CA;AACA,YAhDA,oBAgDA,CAhDA,EAgDA;AACA,WAAA,KAAA,GAAA,KAAA,KAAA,GAAA,CAAA;;AACA,UAAA,KAAA,KAAA,IAAA,CAAA,EAAA;AAAA,aAAA,KAAA,GAAA,CAAA;AAAA;;AAAA;AACA,KAnDA;AAoDA;AACA,YArDA,oBAqDA,GArDA,EAqDA,IArDA,EAqDA;AACA,UAAA,MAAA,IAAA,KAAA,CAAA,IAAA,CAAA;AACA,aAAA,GAAA;AACA;AAxDA;AAhBA,CAAA","sourcesContent":["<template>\r\n    <div class=bottom_one>\r\n        <a href=\"javascript:;\" class=\"one_a\">\r\n        <!--1 图片部分 -->\r\n        <div class=one_img>\r\n            <img class=\"one_img_on\" :src=\"`http://127.0.0.1:5050/${elem.pic_on}`\" alt=\"\">\r\n            <img class=\"one_img_hover\" :src=\"`http://127.0.0.1:5050/${elem.pic_hover}`\" alt=\"\">\r\n        </div>\r\n        <!-- 2 名字 -->\r\n        <div class=\"one_title\">{{elem.lname}}</div>\r\n        </a>\r\n        <!-- 3 价格 -->\r\n        <div class=\"one_price\">¥ \r\n        <span class=\"one_price_num\">{{elem.price}}</span>\r\n        </div>\r\n        <!-- 5 数量颜色的选择 -->\r\n        <div class=\"one_select\">\r\n        <select name=\"product_size\" id=\"product_size\" v-model=\"spec\">\r\n            <option>尺码</option>\r\n            <option  v-for=\"(item1,i) of arrSplit(elem.spec,'-')\" :key=\"i\">{{item1}}</option>\r\n            <!-- <option value=\"\">170/88A</option>\r\n            <option value=\"\">175/92A</option>\r\n            <option value=\"\">180/96A</option>\r\n            <option value=\"\">185/100A</option>\r\n            <option value=\"\">190/104A</option>\r\n            <option value=\"\">195/108A </option>\r\n            <option value=\"\">200/112A </option>\r\n            <option value=\"\">205/116A</option> -->\r\n        </select>\r\n        <select name=\"product_color\" id=\"product_color\" v-model=\"color\">\r\n            <option >颜色</option>\r\n            <option  v-for=\"(item2,i) of arrSplit(elem.color,'-')\" :key=\"i\">{{item2}}</option>\r\n            <!-- <option value=\"\">深绿</option>\r\n            <option value=\"\">浅蓝</option>\r\n            <option value=\"\">灰色</option>\r\n            <option value=\"\">黑色</option> -->\r\n        </select>\r\n        <div class=\"select_num\">\r\n            <input type=\"text\" v-model=\"count\">\r\n            <div class=\"select_control\">\r\n            <div class=\"add\" @click=\"addCount(1)\">+</div>\r\n            <div class=\"reduce\" @click=\"addCount(-1)\">-</div>\r\n            </div>\r\n            <span class=\"select_sp\">件</span>\r\n        </div>\r\n        </div>\r\n        <!-- 4 加入购物车和爱心 -->\r\n        <div class=\"one_handle\">\r\n        <button class=\"handle_once\" @click=\"payonce\">立即购买</button>\r\n        <button class=\"handle_car\"  @click=\"addCar\" :data-pid=\"elem.pid\" :data-familyid=\"elem.family_id\" :data-price=\"elem.price\" :data-lname=\"elem.lname\" :data-pichover=\"elem.pic_hover\">加入购物车</button>\r\n        <!-- <button class=handle_ai>加入收藏</button> -->\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            spec:\"尺码\",\r\n            color:\"颜色\",\r\n            count:1,            \r\n        }\r\n    },\r\n    props:{\r\n        elem:{default:{}},\r\n    },\r\n    watch:{\r\n        elem(){\r\n            console.log(this.elem)\r\n        }\r\n    },\r\n    methods:{\r\n        //立即购买\r\n        payonce(){\r\n            this.$toast({\r\n                message:\"该功能未完成\",\r\n                duration:1000,\r\n            })\r\n        },\r\n        //加入购物车的功能\r\n        addCar(e){\r\n            \r\n            var pid=e.target.dataset.pid;\r\n            var family_id=e.target.dataset.familyid;\r\n            var lname=e.target.dataset.lname;\r\n            var price=e.target.dataset.price;\r\n            var spec=this.spec;\r\n            var color=this.color;\r\n            var count=this.count;\r\n            if(spec==\"尺码\" || color==\"颜色\"){\r\n                this.$toast({\r\n                    message:\"请选择尺码或颜色\",\r\n                    duration:1000,\r\n                })\r\n                return;\r\n            }\r\n            var pic_hover=e.target.dataset.pichover;\r\n            var url=\"cart/v1/addcart\";\r\n            var obj={pid:pid,family_id:family_id,lname:lname,price:price,spec:spec,color:color,count:count,pic_hover:pic_hover}\r\n            // console.log(obj);\r\n            this.axios.get(url,{params:obj}).then(\r\n                res=>{\r\n                    console.log(111);\r\n                    if(res.data.code==-1){\r\n                        console.log(122);\r\n                        this.$toast(\"请先登录\");\r\n\r\n                    }else{\r\n                        console.log(133);\r\n                        this.$toast({\r\n                            \r\n                            message:\"添加购物车成功\",\r\n                            duration:1000\r\n                        })\r\n                    }\r\n                }\r\n            )    \r\n        },\r\n        // 增减函数\r\n        addCount(e){\r\n            this.count=this.count+e;\r\n            if(this.count==0){this.count=1}; \r\n        },\r\n        //字符串剪切函数\r\n        arrSplit(str,str1){\r\n            var arr=str.split(str1);\r\n            return arr;\r\n        },\r\n    }\r\n}\r\n</script>"],"sourceRoot":"src\\views"}]}