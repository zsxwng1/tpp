{"remainingRequest":"c:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\babel-loader\\lib\\index.js!c:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\src\\views\\seat\\Seat1.vue?vue&type=script&lang=js","dependencies":[{"path":"c:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\src\\views\\seat\\Seat1.vue","mtime":1566961156758},{"path":"c:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"c:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"c:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      list: [],\n      //座位列表  这种形式  [ {i:7,j:3},{i:7,j:4} ]   全部的座位列表\n      soldList: [{\n        i: 8,\n        j: 5\n      }, {\n        i: 8,\n        j: 3\n      }, {\n        i: 8,\n        j: 4\n      }, {\n        i: 6,\n        j: 5\n      }, {\n        i: 7,\n        j: 3\n      }, {\n        i: 7,\n        j: 4\n      }],\n      //已售位置\n      buyList: [] //${el.dataset.j}排${el.dataset.i}座  这种形式的名字 ,显示在底部\n\n    };\n  },\n  created: function created() {\n    this.createList();\n  },\n  methods: {\n    //删除一个座位\n    delSeat: function delSeat(str) {\n      for (var i = 0; i < this.buyList.length; i++) {\n        if (this.buyList[i] == str) {\n          this.buyList.splice(i, 1);\n        }\n      }\n    },\n    // 删除座位编号\n    del: function del(e) {\n      console.log(e.currentTarget);\n      var str = e.currentTarget.dataset.seat;\n      this.delSeat(str);\n      var arr = str.split(/[排座]/); //找到对应的元素 删除class\n\n      var slist = document.getElementsByClassName(\"seat_list\")[0];\n      var elems = slist.querySelectorAll(\"[data-i]\");\n\n      for (var i = 0; i < elems.length; i++) {\n        if (elems[i].dataset.j == arr[0] && elems[i].dataset.i == arr[1]) {\n          elems[i].className = \"\";\n        }\n      }\n    },\n    //选座位\n    choose: function choose(e) {\n      var el = e.target;\n\n      if (el.nodeName == \"SPAN\") {\n        var s = el.dataset.show;\n        var str = \"\".concat(el.dataset.j, \"\\u6392\").concat(el.dataset.i, \"\\u5EA7\");\n\n        if (s != 0) {\n          var style = getComputedStyle(el);\n\n          if (el.className != \"green\") {\n            el.className = \"green\";\n            this.buyList.push(str);\n          } else {\n            el.className = \"\"; //清空class\n\n            this.delSeat(str);\n          } // console.log(e.target)\n          // var j=e.target.dataset.j;\n          // var i=e.target.dataset.i;\n          // console.log(j);            \n\n        }\n      }\n    },\n    //创建座位，随机生产已售位置\n    createList: function createList() {\n      var soldList = this.soldList;\n      var list = [];\n\n      for (var a = 0; a < 9; a++) {\n        var li = [];\n\n        for (var b = 0; b < 14; b++) {\n          var num = 0;\n\n          for (var z = 0; z < soldList.length; z++) {\n            if (soldList[z].i == b && soldList[z].j == a) {\n              num++;\n            }\n          }\n\n          if (num > 0) {\n            var obj = {\n              i: b + 1,\n              j: a + 1,\n              show: 0\n            };\n          } else {\n            var obj = {\n              i: b + 1,\n              j: a + 1,\n              show: 1\n            };\n          }\n\n          li[b] = obj;\n        }\n\n        list[a] = li;\n      }\n\n      this.list = list;\n    }\n  }\n};",{"version":3,"sources":["Seat1.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"root\" id=\"seat\">\r\n    <div class=\"content\">\r\n      <div class=\"dy-list-item\">\r\n        <div class=\"cinema-info\">\r\n          <div class=\"dy-list-title\">哪吒之魔童降世</div>\r\n          <div class=\"dy-list-brief\">今天 08-20 20:05~21:55(国语 3D)</div>\r\n        </div>\r\n      </div>\r\n      <div id=\"J_xseat\">\r\n        <div class=\"seat-legend\">\r\n          <ul>\r\n            <li>\r\n              <i class=\"tpp-i i-normal core\"></i>可选\r\n            </li>\r\n            <li>\r\n              <i class=\"tpp-i i-sold core\"></i>已售\r\n            </li>\r\n            <li>\r\n              <i class=\"tpp-i i-best-area\"></i>最佳观影区\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div class=\"hall-name\">\r\n          <p class=\"i-screen\">彩虹厅 银幕</p>\r\n        </div>\r\n      </div>\r\n      <div></div>\r\n    </div>\r\n    <div class=\"list_bg\">\r\n      <div class=\"seat_list\" @click=\"choose\">\r\n        <div class=\"row\" v-for=\"(item,index) of list\" :key=\"index\">\r\n          <div class=\"col\" v-for=\"(elem,index2) of item\" :key=\"index2\">\r\n            <span :data-j=\"elem.j\" :data-i=\"elem.i\" :data-show=\"elem.show\" :class=\"{'is_show':elem.show==0}\"></span>          \r\n          </div>\r\n        </div>\r\n      </div>     \r\n    </div>\r\n    <div class=\"choose_main\">\r\n      <ul>\r\n        <li class=\"choose_item\" v-for=\"(elem,i) of buyList\" :data-seat=\"elem\" :key=\"i\" @click=\"del\">\r\n          <h3>{{elem}}</h3>\r\n          <h4>72.7元</h4>\r\n        </li>        \r\n      </ul>\r\n    </div>\r\n    <div class=\"jus\" :class=\"{show:buyList.length>0}\">\r\n      <span class=\"tpp-btn\">请选座位</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data(){\r\n    return {\r\n      list:[],      //座位列表  这种形式  [ {i:7,j:3},{i:7,j:4} ]   全部的座位列表\r\n      soldList:[ {i:8,j:5},{i:8,j:3},{i:8,j:4},{i:6,j:5},{i:7,j:3},{i:7,j:4} ],  //已售位置\r\n      buyList:[],   //${el.dataset.j}排${el.dataset.i}座  这种形式的名字 ,显示在底部\r\n    }\r\n  },\r\n  created(){\r\n    this.createList();\r\n  },\r\n  methods:{\r\n    //删除一个座位\r\n    delSeat(str){\r\n      for(var i=0;i<this.buyList.length;i++){\r\n        if(this.buyList[i]==str){\r\n          this.buyList.splice(i,1);\r\n        }\r\n      }\r\n    },\r\n    // 删除座位编号\r\n    del(e){ \r\n      console.log(e.currentTarget);\r\n      var str=e.currentTarget.dataset.seat;\r\n      this.delSeat(str);\r\n      var arr=str.split(/[排座]/)\r\n      //找到对应的元素 删除class\r\n      var slist=document.getElementsByClassName(\"seat_list\")[0];\r\n      var elems=slist.querySelectorAll(\"[data-i]\");\r\n      for(var i=0;i<elems.length;i++){\r\n        if(elems[i].dataset.j==arr[0] && elems[i].dataset.i==arr[1]){\r\n          elems[i].className=\"\";\r\n        }\r\n      }\r\n    },\r\n    //选座位\r\n    choose(e){\r\n      var el=e.target;\r\n      if(el.nodeName==\"SPAN\"){ \r\n        var s=el.dataset.show;\r\n        var str=`${el.dataset.j}排${el.dataset.i}座`;\r\n        if(s!=0){\r\n          var style=getComputedStyle(el);\r\n          if(el.className!=\"green\"){\r\n            el.className=\"green\";\r\n            this.buyList.push(str);        \r\n          }else{\r\n            el.className=\"\";  //清空class\r\n            this.delSeat(str);\r\n          }\r\n          // console.log(e.target)\r\n          // var j=e.target.dataset.j;\r\n          // var i=e.target.dataset.i;\r\n          // console.log(j);            \r\n        }\r\n      } \r\n    },\r\n    //创建座位，随机生产已售位置\r\n    createList(){\r\n      var soldList=this.soldList;\r\n      var list = [];\r\n      for(var a=0;a<9;a++){\r\n        var li=[]\r\n        for(var b=0;b<14;b++){\r\n          var num=0;\r\n          for(var z=0;z<soldList.length;z++){\r\n            if((soldList[z].i==b) && (soldList[z].j==a)){\r\n              num++;\r\n            }\r\n          }\r\n          if(num>0){\r\n            var obj={i:b+1,j:a+1,show:0} \r\n          }else{\r\n            var obj={i:b+1,j:a+1,show:1} \r\n          }\r\n          li[b]=obj;\r\n        }\r\n        list[a]=li;\r\n      }\r\n      this.list=list;\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style>\r\n    @import url(\"../../assets/css/seat.css\");\r\n</style>"],"sourceRoot":"src\\views\\seat"}]}