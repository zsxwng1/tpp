{"remainingRequest":"c:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\babel-loader\\lib\\index.js!c:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\src\\views\\movie\\MovieDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"c:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\src\\views\\movie\\MovieDetail.vue","mtime":1566987017063},{"path":"c:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"c:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"c:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import movieLi from \"./MovieLi\";\nexport default {\n  data: function data() {\n    return {\n      path: '',\n      //保存从哪个路径跳转过来，如果从/cinema 跳转过来，就不会显示选座购票按钮\n      list: [],\n      videoHeight: window.innerHeight * 0.35,\n      start_width: '0px',\n      selected: \"1\",\n      isHeight: true //有一个固定高度\n\n    };\n  },\n  // 使用路由钩子在页面里获取跳转过来的路径\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    next(function (vm) {\n      console.log(from.path);\n      console.log(vm);\n      vm.path = from.path;\n      next(); //允许跳转      \n    });\n  },\n  methods: {\n    //跳转到find_cinema页面\n    find_cinema: function find_cinema() {\n      this.$router.push({\n        path: '/findCinema',\n        query: {\n          mid: this.list.mid\n        }\n      });\n    },\n    //show 点击展开更多\n    show: function show() {\n      this.isHeight = false;\n      var show = document.getElementsByClassName(\"show\")[0];\n      console.log(show);\n      show.style.display = 'none';\n    },\n    //评分控制start\n    get_start_width: function get_start_width() {\n      var num = parseFloat(this.list.score);\n      var width = num / 10 * 80;\n      this.start_width = width + 'px';\n    },\n    //获取电影信息的axios\n    load: function load() {\n      var _this = this;\n\n      var url = \"movie/v1/movie_detail\";\n      var obj = {\n        mid: this.mid\n      };\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        if (res.data.code == 0) {\n          console.log(\"电影不存在，或者查询失败\");\n        } else {\n          // 从数组中，去除list\n          _this.list = res.data.data[0];\n          console.log(_this.list); //查询成功\n          //在list获取到数据时，在执行这个操作；\n\n          _this.get_start_width();\n        }\n      });\n    }\n  },\n  created: function created() {\n    this.load();\n  },\n  computed: {\n    url: function url() {\n      return this.$store.state.url;\n    },\n    //pic路径\n    picUrl: function picUrl() {\n      if (this.list.length == 0) {\n        return 'http://127.0.0.1:5050/img/nezha.mp4'; //  或者 return null\n      } else {\n        return this.url + this.list.pic;\n      }\n    },\n    //video路径\n    videoUrl: function videoUrl() {\n      if (this.list.length == 0) {\n        return 'http://127.0.0.1:5050/img/nezha.webp';\n      } else {\n        return this.url + this.list.video;\n      }\n    },\n    is_show: function is_show() {\n      //多少人想看控制显示\n      return this.list.is_show == 1 ? true : false;\n    }\n  },\n  props: {\n    mid: {\n      default: \"\"\n    }\n  }\n};",{"version":3,"sources":["MovieDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,YAAA,EADA;AACA;AACA,YAAA,EAFA;AAGA,mBAAA,OAAA,WAAA,GAAA,IAHA;AAIA,mBAAA,KAJA;AAKA,gBAAA,GALA;AAMA,gBAAA,IANA,CAMA;;AANA,KAAA;AAQA,GAVA;AAWA;AACA,kBAZA,4BAYA,EAZA,EAYA,IAZA,EAYA,IAZA,EAYA;AACA,SAAA,cAAA;AACA,cAAA,GAAA,CAAA,KAAA,IAAA;AACA,cAAA,GAAA,CAAA,EAAA;AACA,SAAA,IAAA,GAAA,KAAA,IAAA;AACA,aAJA,CAIA;AACA,KALA;AAMA,GAnBA;AAoBA,WAAA;AACA;AACA,eAFA,yBAEA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,cAAA,aADA;AAEA,eAAA;AAAA,eAAA,KAAA,IAAA,CAAA;AAAA;AAFA,OAAA;AAIA,KAPA;AAQA;AACA,QATA,kBASA;AACA,WAAA,QAAA,GAAA,KAAA;AACA,UAAA,OAAA,SAAA,sBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;AACA,cAAA,GAAA,CAAA,IAAA;AACA,WAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,KAdA;AAeA;AACA,mBAhBA,6BAgBA;AACA,UAAA,MAAA,WAAA,KAAA,IAAA,CAAA,KAAA,CAAA;AACA,UAAA,QAAA,MAAA,EAAA,GAAA,EAAA;AACA,WAAA,WAAA,GAAA,QAAA,IAAA;AACA,KApBA;AAqBA;AACA,QAtBA,kBAsBA;AAAA;;AACA,UAAA,MAAA,uBAAA;AACA,UAAA,MAAA;AAAA,aAAA,KAAA;AAAA,OAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,gBAAA;AAAA,OAAA,EAAA,IAAA,CAAA,eAAA;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,kBAAA,GAAA,CAAA,cAAA;AACA,SAFA,MAEA;AACA;AACA,gBAAA,IAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,kBAAA,GAAA,CAAA,MAAA,IAAA,EAHA,CAIA;AACA;;AACA,gBAAA,eAAA;AACA;AACA,OAXA;AAYA;AArCA,GApBA;AA2DA,SA3DA,qBA2DA;AACA,SAAA,IAAA;AACA,GA7DA;AA8DA,YAAA;AACA,OADA,iBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,GAAA;AACA,KAHA;AAIA;AACA,UALA,oBAKA;AACA,UAAA,KAAA,IAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,eAAA,qCAAA,CADA,CAEA;AACA,OAHA,MAGA;AACA,eAAA,KAAA,GAAA,GAAA,KAAA,IAAA,CAAA,GAAA;AACA;AACA,KAZA;AAaA;AACA,YAdA,sBAcA;AACA,UAAA,KAAA,IAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,eAAA,sCAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA,GAAA,GAAA,KAAA,IAAA,CAAA,KAAA;AACA;AACA,KApBA;AAqBA,WArBA,qBAqBA;AAAA;AACA,aAAA,KAAA,IAAA,CAAA,OAAA,IAAA,CAAA,GAAA,IAAA,GAAA,KAAA;AACA;AAvBA,GA9DA;AAuFA,SAAA;AACA,SAAA;AAAA,eAAA;AAAA;AADA;AAvFA,CAAA","sourcesContent":["<template>\r\n  <div id=\"movie_detail\">\r\n    <!-- 1 video -->\r\n    <div class=\"detail_video\" :style=\"{height:videoHeight+'px'}\">\r\n      <video :src=\"videoUrl\" controls ></video>\r\n      <div class=\"video_bottom\"></div>\r\n    </div>\r\n    <!-- 2 中间详情 -->\r\n    <div class=\"detail_middle\">\r\n      <!-- 图片和名字 -->\r\n      <div class=\"middle_one cf\">\r\n        <!-- 图片 -->\r\n        <div class=\"one_left\">\r\n          <img :src=\"picUrl\" alt=\"\">\r\n          <div class=\"icon\">{{list.pic_label}}</div>\r\n        </div>\r\n        <!-- 名字 -->\r\n        <div class=\"one_right\">\r\n          <div class=\"right_1\">{{list.mname}}</div>\r\n          <div class=\"right_2\">{{list.eng_name}}</div>\r\n          <div class=\"right_3\">{{list.label}}</div>\r\n          <div class=\"right_4\">{{list.show_time}} 中国大陆上映</div>\r\n          <div class=\"right_5\" :class=\"{orange:!is_show}\">{{list.wish}}人想看</div>\r\n        </div>\r\n      </div>\r\n       <!-- 评分 -->     \r\n      <div class=\"middle_two\" :class=\"{'d-none':!is_show}\">\r\n        <div class=\"two_left\">\r\n          <div>{{list.score}}</div>\r\n          <div class=\"start\">\r\n            <div class=\"start_inner\" :style=\"{width:start_width}\"></div>\r\n          </div>\r\n          <div>淘票票评分</div>\r\n          <div>{{list.score_num}}人评</div>\r\n\r\n          <div></div>\r\n        </div>\r\n        <div class=\"two_right\">\r\n          <img src=\"../../../public/img/score_scale1.png\" alt=\"\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"detail_blank\"></div>\r\n    <!-- 3 简介 -->\r\n    <div class=\"detail_bottom\">\r\n      <mt-navbar v-model=\"selected\">\r\n        <mt-tab-item id=\"1\">简介</mt-tab-item>\r\n        <mt-tab-item id=\"2\">影评</mt-tab-item>\r\n        <mt-tab-item id=\"3\">更多</mt-tab-item>\r\n      </mt-navbar>\r\n      <!-- tab-container -->\r\n      <mt-tab-container v-model=\"selected\">\r\n        <mt-tab-container-item id=\"1\">\r\n         <div class=\"intro\" :class=\"{height:isHeight}\">\r\n           {{list.intro}}\r\n            <div class=\"show\" @click=\"show\">展开</div>\r\n          </div> \r\n        </mt-tab-container-item>\r\n        <mt-tab-container-item id=\"2\">\r\n         <div class=\"film\">观众热评</div> \r\n        </mt-tab-container-item>\r\n        <mt-tab-container-item id=\"3\">\r\n         <div class=\"more\">电影动态</div> \r\n        </mt-tab-container-item>\r\n      </mt-tab-container>\r\n    </div>\r\n    <!-- 4 选座购票 从影院界面进入时，这个按钮不会显示-->\r\n    <h3 class=\"detail_seat\" @click=\"find_cinema\" v-show=\"path!='/cinema'\">\r\n      选座购票\r\n    </h3>\r\n  </div>  \r\n</template>\r\n<script>\r\n// import movieLi from \"./MovieLi\";\r\nexport default {\r\n  data(){\r\n    return {\r\n      path:'',    //保存从哪个路径跳转过来，如果从/cinema 跳转过来，就不会显示选座购票按钮\r\n      list:[],\r\n      videoHeight:window.innerHeight*0.35,\r\n      start_width:'0px',\r\n      selected:\"1\",\r\n      isHeight:true,  //有一个固定高度\r\n    }\r\n  },\r\n  // 使用路由钩子在页面里获取跳转过来的路径\r\n  beforeRouteEnter (to, from, next) {\r\n    next(vm=>{\r\n      console.log(from.path);\r\n      console.log(vm);\r\n      vm.path=from.path\r\n      next();  //允许跳转      \r\n    })\r\n  },\r\n  methods:{\r\n    //跳转到find_cinema页面\r\n    find_cinema(){\r\n      this.$router.push({\r\n        path:'/findCinema',\r\n        query:{mid:this.list.mid}\r\n      })\r\n    },\r\n    //show 点击展开更多\r\n    show(){\r\n      this.isHeight=false;\r\n      var show=document.getElementsByClassName(\"show\")[0];\r\n      console.log(show);\r\n      show.style.display='none';\r\n    },\r\n    //评分控制start\r\n    get_start_width(){\r\n      var num=parseFloat(this.list.score);\r\n      var width=num/10*80;\r\n      this.start_width = width+'px';\r\n    },\r\n    //获取电影信息的axios\r\n    load(){\r\n      var url=\"movie/v1/movie_detail\";\r\n      var obj={mid:this.mid};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        if(res.data.code==0){\r\n          console.log(\"电影不存在，或者查询失败\")\r\n        }else{\r\n          // 从数组中，去除list\r\n          this.list=res.data.data[0];\r\n          console.log(this.list);\r\n          //查询成功\r\n          //在list获取到数据时，在执行这个操作；\r\n          this.get_start_width();\r\n        }\r\n      })\r\n    },\r\n  },\r\n  created(){\r\n    this.load();\r\n  },\r\n  computed:{\r\n    url(){\r\n      return this.$store.state.url;\r\n    },\r\n    //pic路径\r\n    picUrl(){\r\n      if(this.list.length==0){\r\n        return 'http://127.0.0.1:5050/img/nezha.mp4';\r\n        //  或者 return null\r\n      }else{ \r\n        return this.url+this.list.pic;\r\n      }\r\n    },\r\n    //video路径\r\n    videoUrl(){\r\n      if(this.list.length==0){\r\n        return 'http://127.0.0.1:5050/img/nezha.webp';\r\n      }else{ \r\n        return this.url+this.list.video;\r\n      }\r\n    },\r\n    is_show(){    //多少人想看控制显示\r\n      return (this.list.is_show==1) ? true : false;\r\n    }\r\n  },\r\n  props:{\r\n    mid:{default:\"\"},\r\n  },\r\n}\r\n</script>\r\n<style>\r\n    @import url('../../assets/css/movieDetail.css');\r\n</style>"],"sourceRoot":"src\\views\\movie"}]}