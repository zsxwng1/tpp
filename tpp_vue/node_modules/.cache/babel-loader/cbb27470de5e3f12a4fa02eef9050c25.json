{"remainingRequest":"C:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\src\\views\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\src\\views\\Home.vue","mtime":1567069164113},{"path":"C:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport myHome from \"./my/MyHome.vue\";\nimport movieList from \"./movie/MovieList\"; //1.2引入底部导航条的图片切换组件\n\nimport TabarIcon from \"./movie/TabarIcon.vue\";\nexport default {\n  data: function data() {\n    return {\n      //active保存的是一个字符串：子面板id\n      active: \"movie\",\n      //在data添加属性 currentIndex\n      //集中保存按钮状态\n      currentIndex: [{\n        isSelect: true\n      }, //0保存第一个按钮的状态\n      {\n        isSelect: false\n      }, //1保存第一个按钮的状态\n      {\n        isSelect: false\n      }],\n      list: [],\n      activeTwo: \"soon\",\n      carouselimg: \"http:127.0.0.1:5050\" // showList:[],\n      // notShowList:[],\n\n    };\n  },\n  mounted: function mounted() {\n    var act = this.getActiveTwo;\n    var doc = document.getElementById(act);\n    doc.style.borderBottom = '2px solid #ff2e62';\n  },\n  methods: {\n    changeState: function changeState(idx) {\n      // 功能：指定当前按钮状态修改true\n      //          其他按钮状态修改false\n      console.log(idx); // 1：创建循环遍历状态数组\n\n      for (var i = 0; i < this.currentIndex.length; i++) {\n        // 2：获取用户点击下标\n        var ui = idx; //   与当前下标比较\n\n        if (ui == i) {\n          // 3.如果两个值相等当前状态true\n          this.currentIndex[i].isSelect = true;\n        } else {\n          // 4:其他元素状态false\n          this.currentIndex[i].isSelect = false;\n        }\n      }\n    },\n    //轮播图\n    onload: function onload() {\n      var _this = this;\n\n      var url = \"movie/v1/carousel\";\n      this.axios.get(url).then(function (res) {\n        if (res.data.code == 1) {\n          _this.list = res.data.data;\n        }\n      });\n    },\n    // 改变vuex的active\n    changeActive: function changeActive() {\n      console.log(\"打印出当前页面的active:\", this.active);\n      this.$store.commit(\"changeActive\", this.active);\n    },\n    //切换（正在热映）-（即将上映） 在这里保存住activeTwo的信息，在城市选择页面跳转过来时，可以回到原位置\n    activeTwo_now: function activeTwo_now(e) {\n      this.activeTwo = \"now\";\n      e.target.style.borderBottom = '2px solid #ff2e62';\n      var sib = e.target.nextElementSibling;\n      sib.style.borderBottom = 'none';\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n    activeTwo_soon: function activeTwo_soon(e) {\n      this.activeTwo = \"soon\";\n      e.target.style.borderBottom = '2px solid #ff2e62';\n      var sib = e.target.previousElementSibling;\n      sib.style.borderBottom = 'none';\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    }\n  },\n  created: function created() {\n    this.onload(); //组件刷新，获取vuex里的active；\n\n    this.active = this.getActive;\n    this.activeTwo = this.getActiveTwo; // //创建时运行loadList;\n    // this.loadList(0);\n    // this.loadList(1);\n  },\n  computed: {\n    //计算属性，获取vuex里的active；\n    getActive: function getActive() {\n      return this.$store.state.active;\n    },\n    //计算属性，获取vuex里的activeTwo；\n    getActiveTwo: function getActiveTwo() {\n      return this.$store.state.activeTwo;\n    }\n  },\n  components: {\n    //注册子组件\n    movieList: movieList,\n    \"tabaricon\": TabarIcon,\n    myHome: myHome // methods:{\n    // \tgetActive(val){\n    // \t\tthis.active=val;\n    // \t}\n    // }\n\n  }\n};",{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<!-- {{active}} -->\r\n\t\t<mt-tab-container v-model=\"active\">\r\n\t\t\t<mt-tab-container-item id=\"movie\">\r\n\t\t\t\t<div class=\"cityAndShow cf\">\r\n\t\t\t\t\t<my-city class=\"city\"></my-city>\r\n\t\t\t\t\t<!-- 这里再次进行分屏切换\r\n\t\t\t\t\t<van-tabs class=\"show\">\r\n  \t\t\t\t\t\t<van-tab title=\"正在热映\" @click.native=\"activeTwo_now\">\r\n\t\t\t\t\t\t\t  <movie-list :is_show=\"1\"></movie-list>\r\n\t\t\t\t\t\t</van-tab>\r\n  \t\t\t\t\t\t<van-tab title=\"即将上映\" @click=\"activeTwo_soon\">\r\n\t\t\t\t\t\t\t\t<movie-list :is_show=\"0\"></movie-list>\r\n\t\t\t\t\t\t</van-tab>\r\n\t\t\t\t\t</van-tabs> -->\r\n\t\t\t\t\t<div class=\"changeh\">\r\n\t\t\t\t\t\t<h2 @click=\"activeTwo_now\" class=\"h2\" id=\"now\">正在热映</h2>\r\n\t\t\t\t\t\t<h2 @click=\"activeTwo_soon\" class=\"h2\" id=\"soon\">即将上映</h2>\t\t\t\r\n\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<van-swipe :autoplay=\"3000\">\r\n\t\t\t\t\t<van-swipe-item v-for=\"(item,i) of list\" :key=\"i\" class=\"carouselImg\">\r\n     \t\t\t\t\t<img :src=\"`http://127.0.0.1:5050/${item.img_url}`\" alt=\"\">\r\n\t\t\t\t\t</van-swipe-item>\r\n\t\t\t\t</van-swipe> \r\n\t\t\t\t<mt-tab-container v-model=\"activeTwo\">\r\n\t\t\t\t\t<mt-tab-container-item id=\"now\">      \r\n\t\t\t\t\t<!-- 这里是正在热映的内容 -->\r\n\t\t\t\t\t\t<movie-list :is_show=\"1\"></movie-list>\r\n\t\t\t\t\t</mt-tab-container-item>\r\n\t\t\t\t\t<mt-tab-container-item id=\"soon\">\r\n\t\t\t\t\t\t<!-- 这里是即将上映的内容 -->\r\n\t\t\t\t\t\t<movie-list :is_show=\"0\"></movie-list>\r\n\t\t\t\t\t</mt-tab-container-item>\r\n\t\t\t\t</mt-tab-container>\r\n\t\t\t</mt-tab-container-item>\r\n\t\t\t<mt-tab-container-item id=\"cinema\">\r\n\t\t\t\t<my-city></my-city>\r\n\t\t\t\t<div style=\"width:100vw;height:100vh\">\r\n\t\t\t\t\t<img style=\"width:25%;height:25%\" src=\"http://127.0.0.1:5050/active_cinema.svg\" alt=\"\">\r\n\t\t\t\t</div>\r\n\t\t\t</mt-tab-container-item>\r\n\t\t\t<mt-tab-container-item id=\"my\">\r\n\t\t\t\t<my-home></my-home>\r\n\t\t\t</mt-tab-container-item>\r\n\t\t</mt-tab-container>\r\n\t\t<mt-tabbar v-model=\"active\" fixed>\r\n\t\t\t<mt-tab-item id=\"movie\" data-cid=\"movie\" @click.native=\"changeState(0);changeActive()\">\r\n\t\t\t\t<tabaricon\r\n\t\t\t\t:selectedImage=\"require('../../public/img/电影active.png')\"\r\n                :normalImage=\"require('../../public/img/电影.png')\"\r\n                :focused=\"active=='movie'\"></tabaricon>\r\n\t\t\t\t热映</mt-tab-item>\r\n\t\t\t<mt-tab-item id=\"cinema\" data-cid=\"cinema\" @click.native=\"changeState(1);changeActive()\">\r\n\t\t\t\t<tabaricon\r\n\t\t\t\t:selectedImage=\"require('../../public/img/影院active.png')\"\r\n                :normalImage=\"require('../../public/img/影院.png')\"\r\n                :focused=\"active=='cinema'\"></tabaricon>\r\n\t\t\t\t影院\r\n\t\t\t</mt-tab-item>\r\n\t\t\t<mt-tab-item id=\"my\" data-cid=\"my\" @click.native=\"changeState(2);changeActive()\">\r\n\t\t\t\t<tabaricon\r\n\t\t\t\t:selectedImage=\"require('../../public/img/我的active.png')\"\r\n                :normalImage=\"require('../../public/img/我的.png')\"\r\n                :focused=\"active=='my'\"></tabaricon>\r\n\t\t\t\t我的\r\n\t\t\t</mt-tab-item>\r\n\t\t</mt-tabbar>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport myHome from \"./my/MyHome.vue\"\r\nimport movieList from \"./movie/MovieList\";\r\n//1.2引入底部导航条的图片切换组件\r\nimport TabarIcon from \"./movie/TabarIcon.vue\"\r\n\r\nexport default {\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\t//active保存的是一个字符串：子面板id\r\n            active:\"movie\",\r\n            //在data添加属性 currentIndex\r\n            //集中保存按钮状态\r\n            currentIndex:[\r\n                {isSelect:true},//0保存第一个按钮的状态\r\n                {isSelect:false},//1保存第一个按钮的状态\r\n                {isSelect:false},//2保存第一个按钮的状态\r\n            ],\r\n\t\t\tlist:[],\r\n\t\t\tactiveTwo:\"soon\",\r\n\t\t\tcarouselimg:\"http:127.0.0.1:5050\"\r\n\t\t\t// showList:[],\r\n\t\t\t// notShowList:[],\r\n\t\t}\r\n\t},\r\n\tmounted(){\r\n\t\tvar act=this.getActiveTwo;\r\n\t\tvar doc=document.getElementById(act);\r\n\t\tdoc.style.borderBottom='2px solid #ff2e62';\r\n\t},\r\n\tmethods:{\r\n\t\t    changeState(idx){\r\n            // 功能：指定当前按钮状态修改true\r\n            //          其他按钮状态修改false\r\n            console.log(idx)\r\n            // 1：创建循环遍历状态数组\r\n            for(var i=0;i<this.currentIndex.length;i++){\r\n            // 2：获取用户点击下标\r\n                var ui=idx;\r\n            //   与当前下标比较\r\n                if(ui==i){\r\n            // 3.如果两个值相等当前状态true\r\n                this.currentIndex[i].isSelect=true\r\n                }else{\r\n            // 4:其他元素状态false\r\n                this.currentIndex[i].isSelect=false \r\n                }\r\n            }\r\n        },\r\n\t\t//轮播图\r\n        onload(){\r\n            var url=\"movie/v1/carousel\"\r\n            this.axios.get(url).then(res=>{\r\n                if(res.data.code==1){\r\n                    this.list=res.data.data;\r\n                }\r\n            })\r\n        },\r\n\t\t// 改变vuex的active\r\n\t\tchangeActive(){\r\n\t\t\tconsole.log(\"打印出当前页面的active:\",this.active);\r\n\t\t\tthis.$store.commit(\"changeActive\",this.active);\r\n\t\t},\r\n\t\t//切换（正在热映）-（即将上映） 在这里保存住activeTwo的信息，在城市选择页面跳转过来时，可以回到原位置\r\n\t\tactiveTwo_now(e){\r\n\t\t\tthis.activeTwo=\"now\";\r\n\t\t\te.target.style.borderBottom='2px solid #ff2e62';\r\n\t\t\tvar sib=e.target.nextElementSibling\r\n\t\t\tsib.style.borderBottom='none';\r\n\t\t\tthis.$store.commit(\"changeActiveTwo\",this.activeTwo)\r\n\t\t},\r\n\t\tactiveTwo_soon(e){\r\n\t\t\tthis.activeTwo=\"soon\";\r\n\t\t\te.target.style.borderBottom='2px solid #ff2e62';\r\n\t\t\tvar sib=e.target.previousElementSibling\r\n\t\t\tsib.style.borderBottom='none';\r\n\t\t\tthis.$store.commit(\"changeActiveTwo\",this.activeTwo)\r\n\t\t},\r\n\t\t// loadList(is_show){\r\n\t\t// \tvar arr=[this.notShowList,this.showList]\r\n\t\t// \tvar url=\"movie/v1/movie_is_show\";\r\n\t\t// \tvar obj={is_show};\r\n\t\t// \tconsole.log(obj);\r\n\t\t// \tthis.axios.get(url,{params:obj}).then(res=>{\r\n\t\t// \t\tif(res.data.code==-1){\r\n\t\t// \t\t\tconsole.log(\"没有电影\")\r\n\t\t// \t\t}else{\r\n\t\t// \t\t\tarr[is_show]=res.data.data;\r\n\t\t// \t\t}\r\n\t\t// \t})\r\n\t\t// }\r\n\t},\r\n\tcreated(){\r\n\t\tthis.onload()\r\n\t\t//组件刷新，获取vuex里的active；\r\n\t\tthis.active=this.getActive;\r\n\t\tthis.activeTwo=this.getActiveTwo;\r\n\t\t// //创建时运行loadList;\r\n\t\t// this.loadList(0);\r\n\t\t// this.loadList(1);\r\n\t},\r\n\tcomputed:{\r\n\t\t//计算属性，获取vuex里的active；\r\n\t\tgetActive(){\r\n\t\t\treturn this.$store.state.active;\r\n\t\t},\r\n\t\t//计算属性，获取vuex里的activeTwo；\r\n\t\tgetActiveTwo(){\r\n\t\t\treturn this.$store.state.activeTwo;\r\n\t\t},\r\n\t},\r\n\tcomponents:{\r\n\t\t//注册子组件\r\n\t\tmovieList,\r\n\t\t\"tabaricon\":TabarIcon,\r\n\t\tmyHome,\r\n\t}\r\n\t// methods:{\r\n\t// \tgetActive(val){\r\n\t// \t\tthis.active=val;\r\n\t// \t}\r\n\t// }\r\n}\r\n</script>\t\r\n<style scoped>\t\r\n\t.city{\r\n\t\tfloat:left;\r\n\t}\r\n\t.changeh{\r\n\t\tfloat:right;\r\n\t\t/* position:fixed; */\r\n\t\t/* top:13px;right:28px; */\r\n\t\twidth:160px;\r\n\t\tz-index:20;\r\n\t\tmargin-left:80px;\r\n\t\tbackground-color:#fff;\r\n\t\theight:44px;\r\n\t\tline-height: 44px;\r\n\t\tdisplay: flex;\r\n\t\tborder-radius: 5px\r\n\t}\r\n\t.h2{\r\n\t\tfont-size:15px;\r\n\t\tpadding:2px 0px;\r\n\t\tmargin:0px 6px;\t\r\n\t\tcursor: pointer;\r\n\t\t/* border-bottom:2px solid #ff2e62; */\r\n\t}\r\n\ttabbarTwo{\r\n\t\tfloat:right;\r\n\t}\r\n\t.carouselImg img{\r\n\t\twidth:100%;\r\n\t}\r\n\t.cityAndShow{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 1rem 2rem;\r\n\t}\r\n\t.mint-tabbar>.mint-tab-item{\r\n    color: #2c2c2c;\r\n}\r\n\t/* 4.修改组件默选中样式 */\r\n\t.mint-tabbar>.mint-tab-item.is-selected{\r\n    background-color: transparent;\r\n    color: #ff4d64;\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\views"}]}