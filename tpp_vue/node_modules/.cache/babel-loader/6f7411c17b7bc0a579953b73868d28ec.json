{"remainingRequest":"C:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\src\\views\\my\\MyHome.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\src\\views\\my\\MyHome.vue","mtime":1567163197772},{"path":"C:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\web\\Desktop\\tpp\\taopiaopiao\\tpp_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      // url:\"http://127.0.0.1:5050/\",\n      uname: \"\"\n    };\n  },\n  //创建自定义组件       <img :src=\"url+'01.png'\" alt=\"\" v-dir1>\n  // directives: {\n  //     // 指令名称\n  //     dir1: {\n  //         inserted(el) {\n  //             // 指令中第一个参数是当前使用指令的DOM\n  //             console.log(el);\n  //             console.log(arguments);\n  //             // 对DOM进行操作\n  //             el.style.width = '200px';\n  //             el.style.height = '200px';\n  //             el.style.background = '#000';\n  //         }\n  //     }\n  // },\n  methods: {\n    //跳转到电影票页面\n    goMyTicket: function goMyTicket() {\n      if (this.uname == \"\") {\n        this.$toast({\n          message: \"请先登录再查看电影票\",\n          duration: 1000\n        });\n      } else {\n        this.$router.push(\"/myticket\");\n      }\n    },\n    //2 判断是否登录\n    isLogin: function isLogin() {\n      var _this = this;\n\n      var url = \"user/v1/isLogin\";\n      this.axios.get(url).then(function (res) {\n        if (res.data.code == -1) {\n          console.log(res.data.msg);\n        } else {\n          //登录成功，保存住uname;\n          _this.$store.commit(\"changeUid\", res.data.data2);\n\n          console.log(\"打印用户登录信息\", res.data.data[0], \"用户已在线\");\n          _this.uname = res.data.data[0].uname;\n        }\n      });\n    },\n    //1 跳转到登录界面\n    login: function login() {\n      this.$router.push('/login');\n    }\n  },\n  computed: {\n    //把网页的路径定义在了vuex中\n    // url:\"http://127.0.0.1:5050/\",\n    url: function url() {\n      return this.$store.state.url;\n    }\n  },\n  created: function created() {\n    this.isLogin();\n  }\n};",{"version":3,"sources":["MyHome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA;AACA,aAAA;AAFA,KAAA;AAIA,GANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAA;AACA;AACA,cAFA,wBAEA;AACA,UAAA,KAAA,KAAA,IAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA;AACA,mBAAA,YADA;AAEA,oBAAA;AAFA,SAAA;AAIA,OALA,MAKA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA;AACA,KAXA;AAYA;AACA,WAbA,qBAaA;AAAA;;AACA,UAAA,MAAA,iBAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,eAAA;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,CAAA,EAAA;AACA,kBAAA,GAAA,CAAA,IAAA,IAAA,CAAA,GAAA;AACA,SAFA,MAEA;AACA;AACA,gBAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA,IAAA,IAAA,CAAA,KAAA;;AACA,kBAAA,GAAA,CAAA,UAAA,EAAA,IAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA,EAAA,OAAA;AACA,gBAAA,KAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,KAAA;AACA;AACA,OATA;AAUA,KAzBA;AA0BA;AACA,SA3BA,mBA2BA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;AA7BA,GAtBA;AAqDA,YAAA;AACA;AACA;AACA,OAHA,iBAGA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,GAAA;AACA;AALA,GArDA;AA4DA,SA5DA,qBA4DA;AACA,SAAA,OAAA;AACA;AA9DA,CAAA","sourcesContent":["<template>\r\n  <div id=\"my_home\">\r\n    <!-- 1：背景 -->\r\n    <div class=\"bg\"></div>\r\n    <!-- 2：头部 -->\r\n    <div class=\"header\">\r\n      <div class=\"header_img\">\r\n        <img :src=\"url+'01.png'\" alt=\"\" v-dir2>\r\n      </div>\r\n      <div class=\"header_name\" v-show=\"uname!=''\">{{uname}}</div>\r\n      <div class=\"header_name\" @click=\"login\" v-show=\" uname=='' \">立即登录</div>\r\n      <div class=\"icon1\">\r\n        <img :src=\"url+'myHome/naozhong.svg'\" alt=\"\">\r\n      </div>\r\n      <div class=\"icon2\">\r\n        <img :src=\"url+'myHome/shezhi.svg'\"  alt=\"\">\r\n      </div>\r\n    </div>\r\n    <!-- 3：内容 -->\r\n    <div class=\"main\">\r\n      <div class=\"main_content\">\r\n        <div class=\"block1 br\">\r\n          <van-grid :border=\"false\" :column-num=\"3\">\r\n            <van-grid-item  @click=\"goMyTicket\" text=\"电影票\" :icon=\"url+'myHome/dianying.svg'\">\r\n            </van-grid-item>\r\n            <van-grid-item text=\"小食\" :icon=\"url+'myHome/xiaoshi.svg'\">\r\n            </van-grid-item>\r\n            <van-grid-item text=\"演出票\" :icon=\"url+'myHome/yanchu.svg'\">\r\n            </van-grid-item>\r\n          </van-grid>          \r\n        </div>\r\n        <div class=\"block2 br\"> \r\n          <div class=\"block_title\">我的优惠</div>\r\n          <van-grid :border=\"false\" :column-num=\"3\">\r\n            <div class=\"span_font1 span_font\">共0张</div>     \r\n            <div class=\"span_font2 span_font\">开卡购票更优惠</div>     \r\n            <van-grid-item text=\"优惠券\" :icon=\"url+'myHome/youhuiquan.svg'\">\r\n            </van-grid-item>\r\n            <van-grid-item text=\"权益卡\" :icon=\"url+'myHome/quanyika.svg'\">\r\n            </van-grid-item>\r\n            <van-grid-item text=\"乐影卡\" :icon=\"url+'myHome/leyingka.svg'\">\r\n            </van-grid-item>\r\n          </van-grid>          \r\n        </div>\r\n        <div class=\"block3 br\">\r\n          <div class=\"block_title\">我的记录</div>\r\n          <div class=\"content\">\r\n            <div class=\"ct\">\r\n              <div>\r\n                <img :src=\"url+'myHome/xiangkan.svg'\" alt=\"\">                \r\n              </div>\r\n              <div>\r\n                <div>想看</div>\r\n                <div>登录后查看</div>\r\n                <div>共0部</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"ct\">\r\n              <div>\r\n                <img :src=\"url+'myHome/kanguo.svg'\" alt=\"\">                \r\n              </div>\r\n              <div>\r\n                <div>看过</div>\r\n                <div>登录后查看</div>\r\n                <div>共0部</div>                \r\n              </div>\r\n            </div>\r\n          </div>         \r\n        </div>\r\n        <div class=\"block4 br\">\r\n          <div class=\"block_title\">我的服务</div>\r\n          <van-grid :border=\"false\" :column-num=\"4\">   \r\n            <van-grid-item text=\"我的小剧场\"  :icon=\"url+'myHome/serve1.svg'\">\r\n            </van-grid-item>\r\n            <van-grid-item text=\"发起的讨论\" :icon=\"url+'myHome/serve2.svg'\">\r\n            </van-grid-item>\r\n            <van-grid-item text=\"播放记录\" :icon=\"url+'myHome/serve3.svg'\">\r\n            </van-grid-item>\r\n            <van-grid-item text=\"银行特惠\" :icon=\"url+'myHome/serve4.svg'\">\r\n            </van-grid-item>\r\n            <van-grid-item text=\"阿里鱼众筹\" :icon=\"url+'myHome/serve5.svg'\">\r\n            </van-grid-item>\r\n            <van-grid-item text=\"娱乐室\" :icon=\"url+'myHome/serve6.svg'\">\r\n            </van-grid-item>\r\n            <van-grid-item text=\"3小时公益\" :icon=\"url+'myHome/serve7.svg'\">\r\n            </van-grid-item>\r\n            <van-grid-item text=\"我的客服\" :icon=\"url+'myHome/serve8.svg'\">\r\n            </van-grid-item>\r\n            <van-grid-item text=\"满意度调查\" :icon=\"url+'myHome/serve9.svg'\">\r\n            </van-grid-item>\r\n          </van-grid>          \r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data(){\r\n    return{\r\n      // url:\"http://127.0.0.1:5050/\",\r\n      uname:\"\",\r\n    }\r\n  },\r\n    //创建自定义组件       <img :src=\"url+'01.png'\" alt=\"\" v-dir1>\r\n    // directives: {\r\n    //     // 指令名称\r\n    //     dir1: {\r\n    //         inserted(el) {\r\n    //             // 指令中第一个参数是当前使用指令的DOM\r\n    //             console.log(el);\r\n    //             console.log(arguments);\r\n    //             // 对DOM进行操作\r\n    //             el.style.width = '200px';\r\n    //             el.style.height = '200px';\r\n    //             el.style.background = '#000';\r\n    //         }\r\n    //     }\r\n    // },\r\n  methods:{\r\n    //跳转到电影票页面\r\n    goMyTicket(){\r\n      if(this.uname==\"\"){\r\n        this.$toast({\r\n          message:\"请先登录再查看电影票\",\r\n          duration:1000\r\n        })\r\n      }else{\r\n        this.$router.push(\"/myticket\")\r\n      }\r\n    },\r\n    //2 判断是否登录\r\n    isLogin(){\r\n      var url=\"user/v1/isLogin\";\r\n      this.axios.get(url).then(res=>{\r\n        if(res.data.code==-1){\r\n          console.log(res.data.msg);\r\n        }else{\r\n          //登录成功，保存住uname;\r\n          this.$store.commit(\"changeUid\",res.data.data2)\r\n          console.log(\"打印用户登录信息\",res.data.data[0],\"用户已在线\");\r\n          this.uname=res.data.data[0].uname;\r\n        }\r\n      })\r\n    },\r\n    //1 跳转到登录界面\r\n    login(){\r\n      this.$router.push('/login')\r\n    },\r\n  },\r\n  computed:{\r\n    //把网页的路径定义在了vuex中\r\n    // url:\"http://127.0.0.1:5050/\",\r\n    url(){\r\n      return this.$store.state.url\r\n    }\r\n  },\r\n  created(){\r\n    this.isLogin();\r\n  },\r\n}\r\n</script>\r\n<style>\r\n  @import url(\"../../assets/css/myHome.css\");\r\n</style>"],"sourceRoot":"src\\views\\my"}]}